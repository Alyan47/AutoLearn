{"ast":null,"code":"var _jsxFileName = \"W:\\\\WinHack\\\\frontend\\\\src\\\\components\\\\Schedule.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Schedule.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Schedule({\n  schedule,\n  isLoading,\n  onAdjust\n}) {\n  _s();\n  const [expandedDay, setExpandedDay] = useState(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [localProgress, setLocalProgress] = useState((schedule === null || schedule === void 0 ? void 0 : schedule.progress) || {\n    startedSessions: [],\n    completedSessions: []\n  });\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading schedule...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 25\n  }, this);\n  if (!(schedule !== null && schedule !== void 0 && schedule._id)) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No schedule loaded\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 30\n  }, this);\n  const toggleDay = dayNum => setExpandedDay(expandedDay === dayNum ? null : dayNum);\n  const startSession = async (dayNum, sessionIndex) => {\n    try {\n      const res = await axios.post(`http://localhost:5000/api/schedule-progress/${schedule._id}/start-session`, {\n        day: dayNum,\n        sessionIndex\n      });\n      if (res.data.success) setLocalProgress(res.data.progress);\n    } catch (err) {\n      console.error('Failed to start session:', err);\n    }\n  };\n  const isSessionStarted = (dayNum, sessionIndex) => {\n    var _localProgress$starte;\n    return localProgress === null || localProgress === void 0 ? void 0 : (_localProgress$starte = localProgress.startedSessions) === null || _localProgress$starte === void 0 ? void 0 : _localProgress$starte.some(s => s.day === dayNum && s.sessionIndex === sessionIndex);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"schedule-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCC5 Your Study Schedule\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"schedule-timeline\",\n      children: schedule.scheduleData.schedule.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-header\",\n          onClick: () => toggleDay(day.day),\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Day \", day.day]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [day.sessions.length, \" sessions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this), expandedDay === day.day && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"day-sessions\",\n          children: day.sessions.map((session, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: session.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: isSessionStarted(day.day, idx),\n              onClick: () => startSession(day.day, idx),\n              children: isSessionStarted(day.day, idx) ? 'Started' : 'Start Session'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 21\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this)]\n      }, day.day, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(Schedule, \"d83fiz1VVN5zxnuzUnc0NzgofCg=\");\n_c = Schedule;\nexport default Schedule;\nvar _c;\n$RefreshReg$(_c, \"Schedule\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Schedule","schedule","isLoading","onAdjust","_s","expandedDay","setExpandedDay","showSettings","setShowSettings","localProgress","setLocalProgress","progress","startedSessions","completedSessions","children","fileName","_jsxFileName","lineNumber","columnNumber","_id","toggleDay","dayNum","startSession","sessionIndex","res","post","day","data","success","err","console","error","isSessionStarted","_localProgress$starte","some","s","className","scheduleData","map","onClick","sessions","length","session","idx","title","disabled","_c","$RefreshReg$"],"sources":["W:/WinHack/frontend/src/components/Schedule.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './Schedule.css';\r\n\r\nfunction Schedule({ schedule, isLoading, onAdjust }) {\r\n  const [expandedDay, setExpandedDay] = useState(null);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [localProgress, setLocalProgress] = useState(schedule?.progress || { startedSessions: [], completedSessions: [] });\r\n\r\n  if (isLoading) return <div>Loading schedule...</div>;\r\n  if (!schedule?._id) return <div>No schedule loaded</div>;\r\n\r\n  const toggleDay = (dayNum) => setExpandedDay(expandedDay === dayNum ? null : dayNum);\r\n\r\n  const startSession = async (dayNum, sessionIndex) => {\r\n    try {\r\n      const res = await axios.post(`http://localhost:5000/api/schedule-progress/${schedule._id}/start-session`, { day: dayNum, sessionIndex });\r\n      if (res.data.success) setLocalProgress(res.data.progress);\r\n    } catch (err) {\r\n      console.error('Failed to start session:', err);\r\n    }\r\n  };\r\n\r\n  const isSessionStarted = (dayNum, sessionIndex) =>\r\n    localProgress?.startedSessions?.some(s => s.day === dayNum && s.sessionIndex === sessionIndex);\r\n\r\n  return (\r\n    <div className=\"schedule-container\">\r\n      <h2>ðŸ“… Your Study Schedule</h2>\r\n      <div className=\"schedule-timeline\">\r\n        {schedule.scheduleData.schedule.map(day => (\r\n          <div key={day.day} className=\"day-card\">\r\n            <div className=\"day-header\" onClick={() => toggleDay(day.day)}>\r\n              <span>Day {day.day}</span>\r\n              <span>{day.sessions.length} sessions</span>\r\n            </div>\r\n            {expandedDay === day.day && (\r\n              <div className=\"day-sessions\">\r\n                {day.sessions.map((session, idx) => (\r\n                  <div key={idx} className=\"session-card\">\r\n                    <span>{session.title}</span>\r\n                    <button\r\n                      disabled={isSessionStarted(day.day, idx)}\r\n                      onClick={() => startSession(day.day, idx)}\r\n                    >\r\n                      {isSessionStarted(day.day, idx) ? 'Started' : 'Start Session'}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Schedule;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}